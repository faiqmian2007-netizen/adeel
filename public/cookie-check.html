<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Check - 0WN3R AD33L</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="/css/cookie-check.css">
</head>
<body>
    <div class="app">
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-brand">
                    <h1>0WN3R AD33L</h1>
                </div>
                <div class="nav-actions">
                    <button id="backBtn" class="btn secondary">‚Üê Back to Dashboard</button>
                    <button id="logoutBtn" class="btn secondary">Logout</button>
                </div>
            </div>
        </nav>
        
        <main class="main-content">
            <div class="container">
                <div class="cookie-check-section">
                    <div class="section-header">
                        <h2>üç™ Cookie Validator</h2>
                        <p>Check the validity and expiration status of Facebook cookies</p>
                    </div>
                    
                    <div class="check-mode-selector">
                        <button id="singleModeBtn" class="mode-btn active" data-mode="single">
                            Single Cookie Check
                        </button>
                        <button id="multiModeBtn" class="mode-btn" data-mode="multi">
                            Multiple Cookies Check
                        </button>
                    </div>
                    
                    <!-- Single Cookie Mode -->
                    <div id="singleMode" class="check-mode active">
                        <div class="cookie-input-section">
                            <label for="singleCookie">Paste your Facebook cookie here:</label>
                            <textarea 
                                id="singleCookie" 
                                placeholder="Paste your Facebook cookie string here..."
                                rows="4"
                            ></textarea>
                            <button id="checkSingleBtn" class="btn primary check-btn">
                                üîç Check Cookie
                            </button>
                        </div>
                    </div>
                    
                    <!-- Multiple Cookies Mode -->
                    <div id="multiMode" class="check-mode">
                        <div class="file-upload-section">
                            <div class="upload-area" id="uploadArea">
                                <div class="upload-icon">üìÅ</div>
                                <h3>Upload Cookie File</h3>
                                <p>Select a .txt file containing multiple cookies (one per line)</p>
                                <input type="file" id="cookieFile" accept=".txt" hidden>
                                <button id="selectFileBtn" class="btn secondary">Select File</button>
                            </div>
                            <button id="checkMultiBtn" class="btn primary check-btn" disabled>
                                üîç Check All Cookies
                            </button>
                        </div>
                    </div>
                    
                    <!-- Results Section -->
                    <div id="resultsSection" class="results-section hidden">
                        <div class="results-header">
                            <h3>Cookie Check Results</h3>
                            <div class="results-summary">
                                <span class="summary-item valid">
                                    <span class="count" id="validCount">0</span> Valid
                                </span>
                                <span class="summary-item expired">
                                    <span class="count" id="expiredCount">0</span> Expired
                                </span>
                                <span class="summary-item total">
                                    <span class="count" id="totalCount">0</span> Total
                                </span>
                            </div>
                        </div>
                        
                        <!-- Sorting and Filtering Controls -->
                        <div class="results-controls">
                            <div class="filter-section">
                                <div class="filter-group">
                                    <label class="filter-label">üîç Search by Name</label>
                                    <input type="text" id="nameFilter" class="filter-input" 
                                           placeholder="Search user names...">
                                </div>
                                
                                <div class="filter-group">
                                    <label class="filter-label">üéõÔ∏è Filter by Status</label>
                                    <select id="statusFilter" class="filter-select">
                                        <option value="all">All Cookies</option>
                                        <option value="valid">Valid Only</option>
                                        <option value="expired">Expired Only</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="sort-section">
                                <div class="sort-group">
                                    <label class="sort-label">üìä Sort by</label>
                                    <select id="sortBy" class="sort-select">
                                        <option value="default">Original Order</option>
                                        <option value="status">Status (Valid First)</option>
                                        <option value="name">User Name (A-Z)</option>
                                        <option value="name-desc">User Name (Z-A)</option>
                                        <option value="date">Account Created</option>
                                    </select>
                                </div>
                                
                                <div class="view-controls">
                                    <button id="clearFilters" class="btn filter-btn">
                                        üîÑ Clear Filters
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Results Info -->
                        <div class="results-info">
                            <span id="filteredCount" class="filtered-info">Showing all results</span>
                        </div>
                        
                        <div id="cookieResults" class="cookie-results"></div>
                        
                        <!-- Export Options -->
                        <div class="export-section">
                            <button id="exportValidBtn" class="btn secondary">Export Valid Cookies</button>
                            <button id="exportAllBtn" class="btn secondary">Export All Results</button>
                        </div>
                        
                        <!-- Batch Actions for Valid Cookies -->
                        <div class="batch-actions-section">
                            <h4 class="batch-actions-title">üöÄ Batch Actions for Valid Cookies</h4>
                            <div class="batch-actions-grid">
                                <button id="downloadAllAppStatesBtn" class="btn batch-action-btn">
                                    üì¶ Download All AppStates
                                </button>
                                <button id="copyAllCookiesBtn" class="btn batch-action-btn">
                                    üìã Copy All Valid Cookies
                                </button>
                                <button id="downloadValidCookiesBtn" class="btn batch-action-btn">
                                    üíæ Download Valid Cookies as File
                                </button>
                                <button id="copyAllAppStatesBtn" class="btn batch-action-btn">
                                    üìÑ Copy All AppStates to Clipboard
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Enhanced Progress Modal -->
    <div id="loadingModal" class="modal hidden">
        <div class="modal-content progress-modal">
            <div class="progress-header">
                <div class="progress-icon">üç™</div>
                <h3 id="progressTitle">Checking Cookies...</h3>
                <p id="loadingText">Please wait while we validate your cookies</p>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar-wrapper">
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                        <div class="progress-glow"></div>
                    </div>
                    <div class="progress-percentage">
                        <span id="progressPercent">0%</span>
                    </div>
                </div>
                
                <div class="progress-stats">
                    <div class="stat-item">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-info">
                            <span class="stat-label">Elapsed</span>
                            <span id="elapsedTime" class="stat-value">0s</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <span class="stat-label">Valid</span>
                            <span id="validProgress" class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">‚ùå</div>
                        <div class="stat-info">
                            <span class="stat-label">Invalid</span>
                            <span id="invalidProgress" class="stat-value">0</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">üîÑ</div>
                        <div class="stat-info">
                            <span class="stat-label">Remaining</span>
                            <span id="remainingCount" class="stat-value">0</span>
                        </div>
                    </div>
                </div>
                
                <div class="current-status">
                    <div class="status-icon">üîç</div>
                    <div id="currentStatus" class="status-text">Initializing...</div>
                </div>
            </div>
            
            <div class="loading-animation">
                <div class="loading-spinner"></div>
                <div class="pulse-ring"></div>
            </div>
        </div>
    </div>
    
    <!-- Notification Toast -->
    <div id="notification" class="notification hidden">
        <div class="notification-content">
            <span class="notification-icon"></span>
            <span class="notification-message"></span>
        </div>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/cookie-check.js"></script>
</body>
</html>
